from __future__ import annotations

LOCALES = {
    "FR-QC": "fr_qc",
    "FR": "fr",
    "EN": "en",
}

_T = {
    "fr_qc": {
        "app_title": "Bécar — Cockpit de contrôle opérationnel (démo)",
        "app_subtitle": "KPIs • rentabilité • variances • plan d'action • MIR",
        "sidebar_language": "Langue",
        "sidebar_mode": "Mode présentation (entrevue)",
        "sidebar_mode_help": "Affiche des encadrés 'quoi dire' et quelques avertissements utiles.",
        "auth_title": "Accès protégé",
        "auth_prompt": "Mot de passe",
        "auth_help": "Démo protégée — demander le mot de passe.",
        "auth_error": "Mot de passe invalide.",
        "auth_missing": "Mot de passe non configuré (APP_PASSWORD ou secrets Streamlit).",
        "tabs_home": "0) Accueil",
        "tabs_data": "1) Données",
        "tabs_quality": "2) Qualité",
        "tabs_cockpit": "3) Cockpit KPI",
        "tabs_variance": "4) Variances & rentabilité",
        "tabs_actions": "5) Plan d'action (CAPA)",
        "tabs_mir": "6) Préparation MIR",
        "tabs_scenarios": "7) Scénarios",
        "disclaimer": "Cette application est une démo (données synthétiques par défaut). Ne pas téléverser de données confidentielles.",
        "btn_download_brief": "Télécharger la note de service (PDF)",
        "btn_download_pack": "Télécharger le pack (ZIP)",
        "section_quick_value": "Ce que je peux montrer en direct (5 points)",
        "value_1": "Un cockpit KPI (coût/h, coût/km, coût/m³) filtrable par activité, contrat, équipe, équipement.",
        "value_2": "Une analyse de rentabilité + variances vs cibles, avec drill‑down sur les drivers (carburant, entretien, arrêts).",
        "value_3": "Des recommandations d'optimisation des actifs (utilisation, arrêts, surcoûts) sous forme de liste actionnable.",
        "value_4": "Un plan d'action type CAPA (qui/quoi/quand/statut) généré à partir des écarts, avec traçabilité.",
        "value_5": "Un volet 'MIR readiness' : gabarits d'import, contrôles qualité, indicateurs maintenance (downtime, coûts).",
        "data_source": "Source des données",
        "data_synthetic": "Générer des données synthétiques",
        "data_upload": "Importer un CSV (opérations)",
        "uploader_ops": "Téléverser CSV — opérations (runs)",
        "uploader_capa": "Téléverser CSV — plan d'action (CAPA) (optionnel)",
        "uploader_mir": "Téléverser CSV — événements maintenance (MIR) (optionnel)",
        "seed": "Seed (reproductible)",
        "days": "Nombre de jours",
        "equip": "Nombre d'équipements",
        "contracts": "Nombre de contrats",
        "btn_generate": "Générer",
        "templates": "Gabarits CSV",
        "download_template_ops": "Télécharger gabarit opérations",
        "download_template_capa": "Télécharger gabarit CAPA",
        "download_template_mir": "Télécharger gabarit MIR",
        "preview": "Aperçu",
        "quality_summary": "Résumé qualité",
        "issues": "Anomalies détectées",
        "kpi_filters": "Filtres",
        "date_range": "Période",
        "subsidiary": "Filiale",
        "activity": "Activité",
        "contract": "Contrat",
        "equipment_id": "Équipement",
        "kpi_summary_title": "KPIs clés",
        "metric_revenue": "Revenus",
        "metric_cost": "Coûts",
        "metric_profit": "Profit",
        "metric_margin": "Marge",
        "metric_cpkm": "Coût/km",
        "metric_cph": "Coût/h",
        "metric_cpm3": "Coût/m³",
        "variance_title": "Variances vs cibles",
        "btn_generate_capa": "Générer des actions (CAPA) à partir des écarts",
        "actions_title": "Plan d'action",
        "download_actions": "Télécharger CAPA (CSV)",
        "mir_title": "Préparation MIR (maintenance)",
        "scenarios_title": "Scénarios (what‑if)",
        "mult_fuel": "Multiplicateur carburant",
        "mult_maint": "Multiplicateur entretien",
        "mult_labor": "Multiplicateur main‑d'œuvre",
        "mult_over": "Multiplicateur frais fixes",
        "mult_rev": "Multiplicateur revenus",
        "mult_vol": "Multiplicateur volumes (km, m³)",
        "btn_apply_scenario": "Appliquer le scénario",
        "scenario_name": "Nom du scénario",
        "btn_save_scenario": "Enregistrer",
        "compare_to_base": "Comparaison vs base",
    },
    "fr": {
        "app_title": "Bécar — Cockpit de contrôle opérationnel (démo)",
        "app_subtitle": "KPI • rentabilité • variances • plan d'action • MIR",
        "sidebar_language": "Langue",
        "sidebar_mode": "Mode présentation (entretien)",
        "sidebar_mode_help": "Affiche des encadrés 'quoi dire' et quelques avertissements utiles.",
        "auth_title": "Accès protégé",
        "auth_prompt": "Mot de passe",
        "auth_help": "Démo protégée — demander le mot de passe.",
        "auth_error": "Mot de passe incorrect.",
        "auth_missing": "Mot de passe non configuré (APP_PASSWORD ou secrets Streamlit).",
        "tabs_home": "0) Accueil",
        "tabs_data": "1) Données",
        "tabs_quality": "2) Qualité",
        "tabs_cockpit": "3) Cockpit KPI",
        "tabs_variance": "4) Variances & rentabilité",
        "tabs_actions": "5) Plan d'action (CAPA)",
        "tabs_mir": "6) Préparation MIR",
        "tabs_scenarios": "7) Scénarios",
        "disclaimer": "Application de démonstration (données synthétiques par défaut). Ne pas téléverser de données confidentielles.",
        "btn_download_brief": "Télécharger la note de synthèse (PDF)",
        "btn_download_pack": "Télécharger le pack (ZIP)",
        "section_quick_value": "Ce que je peux montrer en direct (5 points)",
        "value_1": "Un cockpit KPI (coût/h, coût/km, coût/m³) filtrable par activité, contrat, équipe, équipement.",
        "value_2": "Une analyse de rentabilité + variances vs cibles, avec drill‑down sur les drivers (carburant, entretien, arrêts).",
        "value_3": "Des recommandations d'optimisation des actifs (utilisation, arrêts, surcoûts) sous forme de liste actionnable.",
        "value_4": "Un plan d'action type CAPA (qui/quoi/quand/statut) généré à partir des écarts, avec traçabilité.",
        "value_5": "Un volet 'MIR readiness' : gabarits d'import, contrôles qualité, indicateurs maintenance (downtime, coûts).",
        "data_source": "Source des données",
        "data_synthetic": "Générer des données synthétiques",
        "data_upload": "Importer un CSV (opérations)",
        "uploader_ops": "Téléverser CSV — opérations",
        "uploader_capa": "Téléverser CSV — plan d'action (CAPA) (optionnel)",
        "uploader_mir": "Téléverser CSV — événements maintenance (MIR) (optionnel)",
        "seed": "Seed",
        "days": "Nombre de jours",
        "equip": "Nombre d'équipements",
        "contracts": "Nombre de contrats",
        "btn_generate": "Générer",
        "templates": "Gabarits CSV",
        "download_template_ops": "Télécharger gabarit opérations",
        "download_template_capa": "Télécharger gabarit CAPA",
        "download_template_mir": "Télécharger gabarit MIR",
        "preview": "Aperçu",
        "quality_summary": "Résumé qualité",
        "issues": "Anomalies détectées",
        "kpi_filters": "Filtres",
        "date_range": "Période",
        "subsidiary": "Filiale",
        "activity": "Activité",
        "contract": "Contrat",
        "equipment_id": "Équipement",
        "kpi_summary_title": "KPIs clés",
        "metric_revenue": "Revenus",
        "metric_cost": "Coûts",
        "metric_profit": "Résultat",
        "metric_margin": "Marge",
        "metric_cpkm": "Coût/km",
        "metric_cph": "Coût/h",
        "metric_cpm3": "Coût/m³",
        "variance_title": "Variances vs cibles",
        "btn_generate_capa": "Générer des actions (CAPA) à partir des écarts",
        "actions_title": "Plan d'action",
        "download_actions": "Télécharger CAPA (CSV)",
        "mir_title": "Préparation MIR (maintenance)",
        "scenarios_title": "Scénarios (what‑if)",
        "mult_fuel": "Multiplicateur carburant",
        "mult_maint": "Multiplicateur entretien",
        "mult_labor": "Multiplicateur main‑d'œuvre",
        "mult_over": "Multiplicateur frais fixes",
        "mult_rev": "Multiplicateur revenus",
        "mult_vol": "Multiplicateur volumes (km, m³)",
        "btn_apply_scenario": "Appliquer le scénario",
        "scenario_name": "Nom du scénario",
        "btn_save_scenario": "Enregistrer",
        "compare_to_base": "Comparaison vs base",
    },
    "en": {
        "app_title": "Bécar — Operational Controller Cockpit (Demo)",
        "app_subtitle": "KPIs • profitability • variances • action plan • MIR",
        "sidebar_language": "Language",
        "sidebar_mode": "Interview presenter mode",
        "sidebar_mode_help": "Shows short talk-track boxes and helpful warnings.",
        "auth_title": "Protected access",
        "auth_prompt": "Password",
        "auth_help": "Protected demo — request the password.",
        "auth_error": "Invalid password.",
        "auth_missing": "Password not configured (APP_PASSWORD or Streamlit secrets).",
        "tabs_home": "0) Home",
        "tabs_data": "1) Data",
        "tabs_quality": "2) Data quality",
        "tabs_cockpit": "3) KPI cockpit",
        "tabs_variance": "4) Variances & profitability",
        "tabs_actions": "5) Action plan (CAPA)",
        "tabs_mir": "6) MIR readiness",
        "tabs_scenarios": "7) Scenarios",
        "disclaimer": "Demo app (synthetic data by default). Do not upload confidential data.",
        "btn_download_brief": "Download briefing note (PDF)",
        "btn_download_pack": "Download pack (ZIP)",
        "section_quick_value": "What I can show live (5 items)",
        "value_1": "A KPI cockpit (cost/hr, cost/km, cost/m³) filterable by activity, contract, team, equipment.",
        "value_2": "Profitability + target variance analysis, with drill-down into cost drivers (fuel, maintenance, downtime).",
        "value_3": "Actionable asset optimization recommendations (utilization, downtime, overspend).",
        "value_4": "A CAPA-style action plan (who/what/when/status) generated from variances, with traceability.",
        "value_5": "An MIR readiness module: import templates, quality checks, maintenance KPIs (downtime, costs).",
        "data_source": "Data source",
        "data_synthetic": "Generate synthetic data",
        "data_upload": "Upload CSV (operations)",
        "uploader_ops": "Upload CSV — operations (runs)",
        "uploader_capa": "Upload CSV — action plan (CAPA) (optional)",
        "uploader_mir": "Upload CSV — maintenance events (MIR) (optional)",
        "seed": "Seed",
        "days": "Number of days",
        "equip": "Equipment count",
        "contracts": "Contract count",
        "btn_generate": "Generate",
        "templates": "CSV templates",
        "download_template_ops": "Download operations template",
        "download_template_capa": "Download CAPA template",
        "download_template_mir": "Download MIR template",
        "preview": "Preview",
        "quality_summary": "Quality summary",
        "issues": "Detected issues",
        "kpi_filters": "Filters",
        "date_range": "Date range",
        "subsidiary": "Subsidiary",
        "activity": "Activity",
        "contract": "Contract",
        "equipment_id": "Equipment",
        "kpi_summary_title": "Key KPIs",
        "metric_revenue": "Revenue",
        "metric_cost": "Costs",
        "metric_profit": "Profit",
        "metric_margin": "Margin",
        "metric_cpkm": "Cost/km",
        "metric_cph": "Cost/hr",
        "metric_cpm3": "Cost/m³",
        "variance_title": "Variances vs targets",
        "btn_generate_capa": "Generate CAPA actions from variances",
        "actions_title": "Action plan",
        "download_actions": "Download CAPA (CSV)",
        "mir_title": "MIR readiness (maintenance)",
        "scenarios_title": "Scenarios (what-if)",
        "mult_fuel": "Fuel multiplier",
        "mult_maint": "Maintenance multiplier",
        "mult_labor": "Labor multiplier",
        "mult_over": "Overhead multiplier",
        "mult_rev": "Revenue multiplier",
        "mult_vol": "Volume multiplier (km, m³)",
        "btn_apply_scenario": "Apply scenario",
        "scenario_name": "Scenario name",
        "btn_save_scenario": "Save",
        "compare_to_base": "Compare to baseline",
    },
}


def t(locale: str, key: str) -> str:
    return _T.get(locale, _T["en"]).get(key, key)
